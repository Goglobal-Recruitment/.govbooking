// Save data to localStorage helper
function saveToStorage(key, data) {
  localStorage.setItem(key, JSON.stringify(data));
}

const form = document.getElementById('bookingForm');

form.addEventListener('submit', (e) => {
  e.preventDefault();

  const id_number = document.getElementById('id_number').value.trim();
  const forenames = document.getElementById('forenames').value.trim();
  const surname = document.getElementById('surname').value.trim();
  const dialing_code = document.getElementById('dialing_code').value;
  const cellphone = document.getElementById('cellphone').value.trim();
  const confirm_dialing_code = document.getElementById('confirm_dialing_code').value;
  const confirm_cellphone = document.getElementById('confirm_cellphone').value.trim();
  const email = document.getElementById('email').value.trim();
  const confirm_email = document.getElementById('confirm_email').value.trim();

  if (!id_number || !forenames || !surname || !cellphone || !confirm_cellphone) {
    alert('Please complete all required fields.');
    return;
  }

  if (dialing_code !== confirm_dialing_code || cellphone !== confirm_cellphone) {
    alert('Cellphone numbers or dialing codes do not match.');
    return;
  }

  if (email && email !== confirm_email) {
    alert('Emails do not match.');
    return;
  }

  // Save the form data to localStorage
  const formData = {
    id_number,
    forenames,
    surname,
    dialing_code,
    cellphone,
    email,
  };

  saveToStorage('bookingFormData', formData);

  // Redirect to next screen (office selection)
  window.location.href = 'select-office.html';
});
